
<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø¯ÙˆØ±Ø¨ÛŒÙ† ØªØ´Ø®ÛŒØµ Ø­Ø±Ú©Øª</title>
    <style>
        body { 
            margin: 0; 
            background: #000; 
            color: white; 
            font-family: sans-serif; 
            overflow: hidden; /* Ø¬Ù„ÙˆÚ¯ÛŒØ±ÛŒ Ø§Ø² Ø§Ø³Ú©Ø±ÙˆÙ„ */
            display: flex;
            flex-direction: column;
            height: 100vh;
        }
        
        /* Ú©Ø§Ù†ØªÛŒÙ†Ø± ÙˆÛŒØ¯ÛŒÙˆ */
        #camera-container {
            position: relative;
            flex-grow: 1;
            display: flex;
            justify-content: center;
            align-items: center;
            background: #111;
        }
        
        video {
            width: 100%;
            height: 100%;
            object-fit: cover; /* Ù¾Ø± Ú©Ø±Ø¯Ù† ØµÙØ­Ù‡ */
        }

        /* Ø¨ÙˆÙ… Ù†Ù‚Ø§Ø´ÛŒ Ø¨Ø±Ø§ÛŒ Ø¯ÛŒØ¨Ø§Ú¯ ÛŒØ§ Ø§ÙÚ©Øª (Ù…Ø®ÙÛŒ ÛŒØ§ Ø±ÙˆÛŒ ÙˆÛŒØ¯ÛŒÙˆ) */
        canvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
        }

        /* Ú©Ù†ØªØ±Ù„â€ŒÙ‡Ø§ Ø¯Ø± Ù¾Ø§ÛŒÛŒÙ† ØµÙØ­Ù‡ */
        #controls {
            padding: 15px;
            background: rgba(20, 20, 20, 0.9);
            border-top: 1px solid #333;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        /* Ø§Ø³ØªØ§ÛŒÙ„ Ø§Ø³Ù„Ø§ÛŒØ¯Ø± */
        .slider-container {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 10px;
        }
        
        input[type=range] {
            flex-grow: 1;
            height: 25px;
        }

        button {
            padding: 10px 20px;
            font-size: 16px;
            border-radius: 25px;
            border: none;
            background: #333;
            color: white;
            border: 1px solid #555;
        }

        #status {
            font-size: 12px;
            text-align: center;
            color: #888;
            margin-bottom: 5px;
        }

        /* Ø´Ø§Ø®Øµ Ø¨ØµØ±ÛŒ Ù…Ù‚Ø¯Ø§Ø± Ø­Ø±Ú©Øª */
        #motion-bar-container {
            width: 100%;
            height: 5px;
            background: #333;
            margin-bottom: 10px;
            position: relative;
        }
        #motion-bar {
            height: 100%;
            background: #00ff00;
            width: 0%;
            transition: width 0.1s;
        }
        #threshold-marker {
            position: absolute;
            top: -2px;
            bottom: -2px;
            width: 2px;
            background: red;
            left: 50%; /* Ù¾ÛŒØ´â€ŒÙØ±Ø¶ */
            z-index: 2;
        }
    </style>
</head>
<body>

    <div id="status">Ø¯Ø± Ø­Ø§Ù„ Ø¢Ù…Ø§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ...</div>

    <div id="camera-container">
        <video id="video" autoplay playsinline muted></video>
        <!-- Ú©Ø§Ù†ÙˆØ§Ø³ Ø¨Ø±Ø§ÛŒ Ù¾Ø±Ø¯Ø§Ø²Ø´ ØªØµÙˆÛŒØ± (Ù…Ø®ÙÛŒ Ù†ÛŒØ³Øª Ú†ÙˆÙ† Ø´Ø§ÛŒØ¯ Ø¨Ø®ÙˆØ§Ù‡ÛŒÙ… Ù…Ù†Ø§Ø·Ù‚ Ø­Ø±Ú©Øª Ø±Ø§ Ù†Ø´Ø§Ù† Ø¯Ù‡ÛŒÙ…) -->
        <canvas id="output"></canvas>
    </div>

    <div id="controls">
        <!-- Ù†Ù…Ø§ÛŒØ´Ú¯Ø± Ú¯Ø±Ø§ÙÛŒÚ©ÛŒ Ù…Ù‚Ø¯Ø§Ø± Ø­Ø±Ú©Øª -->
        <div id="motion-bar-container">
            <div id="motion-bar"></div>
            <div id="threshold-marker"></div>
        </div>

        <div class="slider-container">
            <span>Ø­Ø³Ø§Ø³ÛŒØª:</span>
            <input type="range" id="sensitivity" min="1" max="100" value="50">
            <span id="sens-val">50%</span>
        </div>

        <div style="text-align: center; margin-top:5px;">
            <button id="switch-camera">ğŸ”„ Ú†Ø±Ø®Ø´ Ø¯ÙˆØ±Ø¨ÛŒÙ†</button>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
